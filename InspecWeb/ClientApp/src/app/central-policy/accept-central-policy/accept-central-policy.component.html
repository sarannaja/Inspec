<div class="header">
  
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a [routerLink]="['/main']">หน้าหลัก</a></li>
      <li class="breadcrumb-item">
        <a [routerLink]="['/calendaruser']">ปฏิทินการตรวจราชการ</a>
      </li>
      <li class="breadcrumb-item" (click)="back()"><a>กำหนดการตรวจราชการ</a></li>
      <li class="breadcrumb-item active" aria-current="page">ตอบรับการตรวจ</li>
    </ol>
  </nav>
</div>

<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h5 class="card-title mb-0">รายละเอียด</h5>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            ผู้เชิญ : {{resultuser.name}}
          </div>
          <div class="col-md-6">
            ตำแหน่ง : {{resultuser.position}}
          </div>
        </div>
        <div class="row" style="margin-top: 10px;">
          <div class="col-md-6">
            เรื่อง : {{resultdetailcentralpolicy.title}}
          </div>
        </div>
        <div class="row" style="margin-top: 10px;">
          <div class="col-md-6">
            <!-- จังหวัด : ขอนแก่น -->
            <u>จังหวัด</u><br>
            <span>{{provincename}}</span>
            <!-- <span
              *ngFor="let item3 of resultdetailcentralpolicy.centralPolicyProvinces; let i = index">ช่วงที่ {{i+1}})
              {{ item3.province.name }}<br></span> -->
          </div>
        </div>
        <div class="row" style="margin-top: 10px;">
          <div class="col-md-6">
            <u>กำหนดลงพื่นที่</u><br>
            <!-- {{resultdate.id}} -->
            <span> {{ resultdate.startDate | thaidate: 'year' }} - {{ resultdate.endDate | thaidate: 'year' }}</span>
            <!-- <span
              *ngFor="let item2 of ; let i = index">ช่วงที่ {{i+1}})
              {{ item2.startDate | thaidate: 'year' }} - {{ item2.endDate | thaidate: 'year' }}<br></span> -->
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="col-md-6">
            <u>ผู้ตรวจราชการกระทรวง</u> &nbsp;&nbsp;
          </div>
        </div>
        <div class="row" style="margin-top: 10px;">
          <div class="col-12">
            <div *ngIf="role6Count == 1" class="card col-6" style="border-width: 0.5px; padding: 5px;">
              <div class="row" *ngFor="let items of resultcentralpolicyuser;let i = index">
                <div class="row col-12">
                  <div class="col-9" *ngIf="items.user.role_id == 6">
                    {{items.user.ministries.name}} - {{items.user.prefix}} {{items.user.name}}
                  </div>
                  <div class="col-3" *ngIf="items.user.role_id == 6">
                    <button *ngIf="items.status == 'รอการตอบรับ'" class="btn btn-sm btn-warning"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'ตอบรับ'" class="btn btn-sm btn-success"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'ปฏิเสธ'" class="btn btn-sm btn-danger"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'มอบหมาย'" class="btn btn-sm btn-success"
                      disabled>{{items.status}}</button>
                    &nbsp;&nbsp;&nbsp;
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="col-md-6">
            <u>ผู้ตรวจราชการกรม</u> &nbsp;&nbsp;
          </div>
        </div>
        <div class="row" style="margin-top: 10px;">
          <div class="col-12">
            <div *ngIf="role10Count == 1" class="card col-6" style="border-width: 0.5px; padding: 5px;">
              <div class="row" *ngFor="let items of resultcentralpolicyuser;let i = index">
                <div class="row col-12">
                  <div class="col-9" *ngIf="items.user.role_id == 10">
                    {{items.user.departments.name}} - {{items.user.prefix}} {{items.user.name}}
                  </div>
                  <div class="col-3" *ngIf="items.user.role_id == 10">
                    <button *ngIf="items.status == 'รอการตอบรับ'" class="btn btn-sm btn-warning"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'ตอบรับ'" class="btn btn-sm btn-success"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'ปฏิเสธ'" class="btn btn-sm btn-danger"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'มอบหมาย'" class="btn btn-sm btn-success"
                      disabled>{{items.status}}</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="col-md-6">
            <u>ที่ปรึกษาผู้ตรวจราชการภาคประชาชน</u> &nbsp;&nbsp;
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="col-12">
            <div *ngIf="role7Count == 1" class="card col-6" style="border-width: 0.5px; padding: 10px;">
              <div class="row" *ngFor="let items of resultcentralpolicyuser;let ii = index">

                <div class="row col-12">
                  <div class="col-9" *ngIf="items.user.role_id == 7">
                    {{items.user.side}} - {{items.user.prefix}} {{items.user.name}}
                  </div>
                  <div class="col-3" *ngIf="items.user.role_id == 7">
                    <button *ngIf="items.status == 'รอการตอบรับ'" class="btn btn-sm btn-warning"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'ตอบรับ'" class="btn btn-sm btn-success"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'ปฏิเสธ'" class="btn btn-sm btn-danger"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'มอบหมาย'" class="btn btn-sm btn-success"
                      disabled>{{items.status}}</button>

                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="row" style="margin-top: 10px;">
          <div class="col-md-6">
            <u>หน่วยรับตรวจ</u> &nbsp;&nbsp;
          </div>
        </div>
        <div class="row" style="margin-top: 10px;">
          <div class="col-12">
            <div *ngIf="role9Count == 1" class="card col-6" style="border-width: 0.5px; padding: 5px;">
              <div class="row" *ngFor="let items of resultcentralpolicyuser;let i = index">
                <div class="row col-12">
                  <div class="col-9" *ngIf="items.user.role_id == 9">
                    {{items.user.provincialDepartments.name}} - {{items.user.prefix}} {{items.user.name}}
                  </div>
                  <div class="col-3" *ngIf="items.user.role_id == 9">
                    <button *ngIf="items.status == 'รอการตอบรับ'" class="btn btn-sm btn-warning"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'ตอบรับ'" class="btn btn-sm btn-success"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'ปฏิเสธ'" class="btn btn-sm btn-danger"
                      disabled>{{items.status}}</button>
                    <button *ngIf="items.status == 'มอบหมาย'" class="btn btn-sm btn-success"
                      disabled>{{items.status}}</button>
                    &nbsp;&nbsp;&nbsp;
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row" *ngIf="resultdetailcentralpolicy.centralPolicyFiles.length > 0">
          <div class="col-md-12">
            <u>ไฟล์แนบแผนการตรวจราชการ</u><br>
            <div class="row" *ngFor="let item2 of resultdetailcentralpolicy.centralPolicyFiles; let i = index"
              style="margin-top: 10px;">
              <a download href="{{downloadUrl}}/{{item2.name}}" class="col-6">
                <span>ไฟล์ที่
                  {{i+1}})
                  {{ item2.name }}<br>
                </span>
              </a>
            </div>
          </div>
        </div>

        <div class="row" *ngIf="carlendarFile.length > 0">
          <div class="col-md-12" style="margin-top: 10px;">
            <u>ไฟล์แนบกำหนดการตรวจ</u><br>
            <div class="row" *ngFor="let item of carlendarFile; let i = index" style="margin-top: 10px;">
              <a download href="{{downloadUrl}}/{{item.name}}" class="col-6">
                <span>ไฟล์ที่
                  {{i+1}})
                  {{ item.name }}<br>
                </span>
              </a>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-danger" (click)="back()">ย้อนกลับ</button>
        <br>
      </div>
    </div>
  </div>
</div>
