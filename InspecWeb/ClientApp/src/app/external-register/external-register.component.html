<header role="banner">
  <div class="top-bar">
    <div class="container">
      <div class="row">
        <!-- <div class="col-9 social">
          <a href="javascript:void(0)"><span class="fa fa-twitter"></span></a>
          <a href="javascript:void(0)"><span class="fa fa-facebook"></span></a>
          <a href="javascript:void(0)"><span class="fa fa-instagram"></span></a>
          <a href="javascript:void(0)"><span class="fa fa-youtube-play"></span></a>
          <a href="javascript:void(0)"><span class="fa fa-vimeo"></span></a>
          <a href="javascript:void(0)"><span class="fa fa-snapchat"></span></a>
        </div>
        <div class="col-3 search-icon">
          <a href="javascript:void(0)"><span class="fa fa-search"></span></a>
        </div> -->
      </div>
    </div>
  </div>

  <div class="container logo-wrap">
    <div class="row pt-5">
      <div class="col-12 text-center">
        <a href=""><img src="assets/fontend/images/logo.png" class="img-fluid rounded-circle mb-2"
            height="70" width="100" /></a>
        <h1 class="f">สมัครบัญชีผู้ใช้บุคคลภายนอก
          <br>
          (สำหรับสมัครอบรม)</h1>
      </div>
    </div>
  </div>
  <br>
  <br>

  <nav class="navbar navbar-expand-md  navbar-light bg-light">
    <div class="container">
      <div class="collapse navbar-collapse" id="navbarMenu">
        <ul class="navbar-nav mx-auto">
        </ul>
      </div>
    </div>
  </nav>
</header>

<div class="m container">
  <div class="row">
    <div class="col-12">
      <form [formGroup]="addForm" (ngSubmit)="adduser(addForm.value)">
        <div class="">
          <!-- <h1><label>ใบสมัครหลักสูตร{{ name }}</label></h1>
          <label>{{ createdAt | thaidate:'year'}}</label>
          <h2 class="text-center">สมัครฝึกอบรม</h2>
          <div class="container col-10">

          </div> -->

          <div class="container col-10 rounded-lg border">

            <!-- <div class="form-group">
              <label>เขตตรวจราชการ*</label>
              <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาเลือกเขตตรวจ" [multiple]="true"   [items]="selectdataregion"
                name="UserRegion" formControlName="UserRegion"  >
              </ng-select>
            </div> -->
            <br>
            <div class="form-group">
              <label class="form-label">คำนำหน้า*</label>
              <input type="text" formControlName="Prefix" class="form-control" placeholder="กรุณากรอกคำนำหน้า"
                     [ngClass]="{ 'is-invalid': submitted && f.Prefix.errors }">
              <div *ngIf="submitted && f.Prefix.errors" class="invalid-feedback">
                <div *ngIf="f.Prefix.errors.required">กรุณากรอกคำนำหน้า</div>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">ชื่อ(TH)*</label>
              <input type="text" formControlName="FName" class="form-control" placeholder="กรุณากรอกชื่อ(TH)"
                     [ngClass]="{ 'is-invalid': submitted && f.FName.errors }">
              <div *ngIf="submitted && f.FName.errors" class="invalid-feedback">
                <div *ngIf="f.FName.errors.required">กรุณากรอกชื่อ(TH)</div>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">นามสกุล(TH)*</label>
              <input type="text" formControlName="LName" class="form-control" placeholder="กรุณากรอกนามสกุล(TH)"
                     [ngClass]="{ 'is-invalid': submitted && f.LName.errors }">
              <div *ngIf="submitted && f.LName.errors" class="invalid-feedback">
                <div *ngIf="f.LName.errors.required">กรุณากรอกนามสกุล(TH)</div>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">ตำแหน่ง(ห้ามใช้ตัวย่อ)*</label>
              <input type="text" formControlName="Position" class="form-control" placeholder="กรุณากรอกตำแหน่ง"
                     [ngClass]="{ 'is-invalid': submitted && f.Position.errors }">
              <div *ngIf="submitted && f.Position.errors" class="invalid-feedback">
                <div *ngIf="f.Position.errors.required">กรุณากรอกตำแหน่ง</div>
              </div>
            </div>


            <div class="form-group">
              <label>หน่วยงานที่สังกัดระดับกระทรวง*</label>
              <!-- <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาเลือกกระทรวง"
                formControlName="MinistryId" [items]="selectdataministry">
              </ng-select> -->
              <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาเลือกหน่วยงานที่สังกัดระดับกระทรวง"
                         formControlName="MinistryId" [items]="selectdataministry" (change)="getDataDepartments($event)"
                         [ngClass]="{ 'is-invalid': submitted && f.MinistryId.errors }">
              </ng-select>
              <div *ngIf="submitted && f.MinistryId.errors" class="invalid-feedback">
                <div *ngIf="f.MinistryId.errors.required">กรุณาเลือกหน่วยงานที่สังกัดระดับกระทรวง</div>
              </div>
            </div>

            <div class="form-group">
              <label>หน่วยงานที่สังกัดระดับกรม*</label>
              <!-- <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาเลือกหน่วยงาน/กรม"
                formControlName="DepartmentId" [items]="selectdatadeparment">
              </ng-select> -->



              <ng-select bindLabel="label" bindValue="value" placeholder="หน่วยงานที่สังกัดระดับกรม"
                         formControlName="DepartmentId" [items]="selectdatadeparment" (change)="getProvincialDepartments($event)"
                         [ngClass]="{ 'is-invalid': submitted && f.DepartmentId.errors }">
              </ng-select>
              <div *ngIf="submitted && f.DepartmentId.errors" class="invalid-feedback">
                <div *ngIf="f.DepartmentId.errors.required">กรุณาเลือกหน่วยงานที่สังกัดระดับกรม</div>
              </div>
            </div>

            <div class="form-group">
              <label>หน่วยงานที่สังกัดในระดับภูมิภาค</label>
              <ng-select bindLabel="label" bindValue="value" placeholder="หน่วยงานที่สังกัดในระดับภูมิภาค"
                         formControlName="ProvincialDepartmentId" [items]="selectdataprovincialdepartment"
                         [ngClass]="{ 'is-invalid': submitted && f.ProvincialDepartmentId.errors }">
              </ng-select>
              <!-- <div *ngIf="submitted && f.ProvincialDepartmentId.errors" class="invalid-feedback">
                <div *ngIf="f.ProvincialDepartmentId.errors.required">กรุณาเลือกหน่วยงานภูมิภาค</div>
              </div> -->
            </div>

            <div class="form-group">
              <!-- จังหวัดหลายอัน -->
              <label>จังหวัด*</label>
              <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาเลือกจังหวัด"
                         formControlName="UserProvince" [items]="selectdataprovince"
                         [ngClass]="{ 'is-invalid': submitted && f.UserProvince.errors }">
              </ng-select>
              <div *ngIf="submitted && f.UserProvince.errors" class="invalid-feedback">
                <div *ngIf="f.UserProvince.errors.required">กรุณาเลือกจังหวัด</div>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">อีเมล*</label>
              <input type="email" formControlName="Email" class="form-control" placeholder="กรุณากรอกอีเมล"
                     [ngClass]="{ 'is-invalid': submitted && f.Email.errors }">
              <div *ngIf="submitted && f.Email.errors" class="invalid-feedback">
                <div *ngIf="f.Email.errors.required">กรุณากรอกอีเมล</div>
              </div>
            </div>

            

            <div class="form-group">
              <label class="form-label">หมายเลขโทรศัพท์*</label>
              <input type="tel" formControlName="PhoneNumber" class="form-control" placeholder="กรุณากรอกเบอร์โทร"
                     [ngClass]="{ 'is-invalid': submitted && f.PhoneNumber.errors }">
              <div *ngIf="submitted && f.PhoneNumber.errors" class="invalid-feedback">
                <div *ngIf="f.PhoneNumber.errors.required">กรุณากรอกเบอร์โทร</div>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">ยืนยันการรับรอง*</label><br>
            <div style="font-weight: bold;">
              <input type="checkbox" [checked]="checkbox1" (change)="checkbox1 = !checkbox1">
                    <!-- [ngClass]="{ 'is-invalid': submitted && f.PhoneNumber.errors }"> -->
                     รับทราบนโยบายการคุ้มครองข้อมูลส่วนบุคคล(Privacy Policy) ของสำนักงานปลัดสำนักนายกรัฐมนตรี
                     <!-- <a href="ClientApp/dist/assets/doc_traning/นโยบายคุ้มครองข้อมู,ส่วนบุคคล.pdf" target="_blank">นโยบายคุ้มครองข้อมูลส่วนบุคคล</a> -->
                     <a href="{{filepdf}}" target="_blank">นโยบายคุ้มครองข้อมูลส่วนบุคคล</a>
                     ได้อ่านเอกสารเรียบร้อยแล้ว
            </div>
              <div *ngIf="submitted && f.PhoneNumber.errors" class="invalid-feedback">
                <div *ngIf="f.PhoneNumber.errors.required">กรุณายืนยันการรับรอง</div>
              </div>
            </div>

            <!-- or use (change)="methodName()" -->
          <!-- <input type="checkbox" [checked]="checkbox1" (change)="checkbox1 = !checkbox1"/> -->
          <!-- <input type="checkbox" [checked]="checkbox2" (change)="checkbox2 = !checkbox2"/> -->

          <!-- <button [disabled]="!checkbox1">Bar</button> -->

          <!-- or this -->
          <!-- <button [attr.disabled]="!checkbox2 || !checkbox2">Bar</button> -->


            <!-- <div class="form-group">
              <label class="form-label">วันที่เริ่มต้น*</label>
              <my-date-picker-th formControlName="Startdate"   [options]="myDatePickerOptions" required>
              </my-date-picker-th>
            </div>

            <div class="form-group">
              <label class="form-label">วันที่สิ้นสุด*</label>
              <my-date-picker-th formControlName="Enddate"   [options]="myDatePickerOptions" required>
              </my-date-picker-th>
            </div>

            <div class="form-group">
              <label class="form-label w-100">รูปโปรไฟล์</label>
              <input type="file" (change)="uploadFile($event)">
              <small class="form-text text-muted">สำหรับรูปโปรไฟล์</small>
            </div> -->

          </div>
        </div>

        <br>
        <div class="text-center">
          <button type="button" (click)="back()" class="btn btn-light">ย้อนกลับ</button>
          &nbsp;&nbsp;
          <button type="submit" [disabled]="!checkbox1" class="btn btn-primary">ยืนยันการสมัคร</button>
        </div>
        <br>
        <br>


      </form>
    </div>
  </div>
</div>

 <!-- BEGIN primary modal -->
 <ng-template #modalregister class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <form [formGroup]="Form" (ngSubmit)="storeTraining(Form.value)">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"></h5>
                <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()"
                    aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body m-3">

                <div class="form-group">
                    <label>รับทราบนโยบายการคุ้มครองข้อมูลส่วนบุคคล(Privacy Policy) ของสำนักงานปลัดสำนักนายกรัฐมนตรี” 
                      พร้อมลิงค์ คลิกแสดงไฟล์ เพื่ออ่านเอกสาร 
                      และมีปุ่มคลิก “ได้อ่านเอกสารเรียบร้อยแล้ว และยืนยันการสมัคร
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary">ต่อไป</button>
                <button type="button" class="btn btn-danger" (click)="modalRef.hide()"
                    data-dismiss="modal">ปิด</button>
            </div>
        </div>
    </form>
  </div>


<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-spin-clockwise">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>
