<div class="header">
  <h1 class="header-title">
    ระบบตรวจราชการอิเล็กทรอนิกส์
  </h1>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a [routerLink]="['/main']">หน้าหลัก</a></li>
      <li class="breadcrumb-item"><a [routerLink]="['/subjectevent']">ประเด็นการตรวจติดตาม</a></li>
      <li class="breadcrumb-item active" aria-current="page">รายละเอียดประเด็นการตรวจติดตาม</li>
    </ol>
  </nav>
</div>

<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h5 class="card-title mb-0">รายละเอียดประเด็นการตรวจติดตาม</h5>
      </div>
      <div class="card-body">
        <form [formGroup]="form" (ngSubmit)="storeFiles(form.value)">
          <div *ngIf="resultdate != null" class="row">
            <div class="col-md-6">
              ชื่อ - นามสกุล : {{resultuser.name}}
            </div>
            <div class="col-md-6">
              ตำแหน่ง : {{resultuser.position}}
            </div>
          </div>

          <div class="row" style="margin-top: 10px;">
            <div class="col-md-6">
              ประเภทแผนการตรวจ : {{resultdetailcentralpolicy.type}}
            </div>
          </div>
          <div class="row" style="margin-top: 10px;">
            <div class="col-md-6">
              ประเด็นนโยบาย : {{resultdetailcentralpolicy.title}}
            </div>
          </div>
          <div class="row" style="margin-top: 10px;">
            <div class="col-md-6">
              <u>จังหวัด</u><br>
              <span>{{provincename}}</span>

            </div>
          </div>
          <div *ngIf="resultdate != null" class="row" style="margin-top: 10px;">
            <div class="col-md-6">
              <u>กำหนดลงพื่นที่</u><br>
              <span> {{ resultdate.startDate | thaidate: 'year' }} - {{ resultdate.endDate | thaidate: 'year' }}</span>
            </div>
          </div>


          <div class="row" style="margin-top: 10px;" *ngIf="subjectgroup.subjectNotificationDate == null">
            <!-- null -->
            <div class="col-6">
              <label>วันที่แจ้งเตือน</label>
              <my-date-picker-th formControlName="notificationsubjectdate" [options]="myDatePickerOptions" required>
              </my-date-picker-th>
            </div>
            <div class="col-6">
              <label>วันกำหนดส่ง</label>
              <my-date-picker-th formControlName="deadlinesubjectdate" [options]="myDatePickerOptions" required>
              </my-date-picker-th>
            </div>
          </div>

          <div class="row" style="margin-top: 10px;" *ngIf="subjectgroup.subjectNotificationDate != null">
            <!-- not null -->
            <div class="col-6">
              <label>วันที่แจ้งเตือน</label>
              <my-date-picker-th [selDate]="notificationsubjectDate" [options]="myDatePickerOptions" required
                (dateChanged)="onStartDateChanged($event)">
              </my-date-picker-th>
            </div>
            <div class="col-6">
              <label>วันกำหนดส่ง</label>
              <my-date-picker-th [selDate]="deadlinesubjectDate" [options]="myDatePickerOptions" required
                (dateChanged)="onEndDateChanged($event)">
              </my-date-picker-th>
            </div>
          </div>

          <div class="row" style="margin-top: 10px;">
            <div class="col-md-6">
              <button type="button" class="btn btn-success" (click)="storeReport()">รายงานประเด็นตรวจติดตาม</button>
            </div>
          </div>
          <div class="row" style="margin-top: 10px;">
            <div class="col-12">
              <table class="table table-default table-responsive-sm tableborder">
                <tbody *ngFor="let items of resultdetailcentralpolicyprovince;let i = index">
                  <tr>
                    <div class="" style="margin-top: 10px;">
                      <td style="border-top: none; width: 1%;">
                        <div class="row">
                          <i class="fa fa-tags" style="margin-top: 5px;"></i>
                          <h4 style="margin-left: 15px;">ประเด็นการตรวจติดตาม</h4>

                          <!-- <button style="margin-top: -10px; margin-left: 10px;"
                            *ngIf="subjectgroupstatus == 'ร่างกำหนดการ' && items.subquestionCentralPolicyProvinces.length > 0"
                            type="button" class="btn btn-info"
                            (click)="openModalSubject(modalcreatesuject,items.id,items.subquestionCentralPolicyProvinces[0].subjectCentralPolicyProvinceGroups)">เพิ่มประเด็นการตรวจติดตาม
                            <i class="far fa-fw fa-plus-square" style="margin-left: 0px;"></i>
                          </button> -->

                          <button style="margin-top: -10px; margin-left: 10px;"
                            *ngIf="subjectgroupstatus == 'ร่างกำหนดการ'" type="button" class="btn btn-info"
                            (click)="openModalSubject2(modalcreatesuject,items.id)">เพิ่มประเด็นการตรวจติดตาม
                            <i class="far fa-fw fa-plus-square" style="margin-left: 0px;"></i>
                          </button>
                          <div *ngFor="let item of items.subquestionCentralPolicyProvinces;let iii = index">
                            <button type="button"
                              *ngIf="item.answerSubquestions.length != 0 && subjectgroupstatus == 'รายงานแล้ว' && iii == 0"
                              (click)="reportModal(modalreportreportperformance, item.subjectCentralPolicyProvinceGroups)"
                              style="margin-left: 20px; font-size: small;"
                              class="btn btn-primary">รายงานผลการดำเนินการของหน่วยรับตรวจ
                            </button>
                          </div>
                          <!-- <i class="fas fa-plus-circle pointer"
                            style="font-size:22px; color: green; margin-left: 10px; margin-bottom: -5px;"
                            (click)="openModal(modalcreatesuject)"></i> -->
                        </div>

                        <div class="row" style="margin-top: 10px;">
                          <div class="col-10" style="margin-left: 35px;">
                            <input type="text" value="{{items.name}}" class="form-control" placeholder="กรุณากรอกเรื่อง"
                              readonly>
                          </div>
                          <!-- <div class="col-1" *ngIf="role_id == 3">
                            <i class="align-middle mr-2 fas fa-fw fa-pen pointer"
                              (click)="editModal3(modaleditsubject, items.id, items.name)"></i>
                          </div> -->
                          <!-- && i != 0 -->
                          <!-- <div class="col-1" *ngIf="i != 0">
                            <i class="align-middle mr-2 fas fa-fw fa-trash-alt pointer"
                              (click)="delsubjectModal(modaldelsubject, items.id)"></i>
                          </div> -->
                        </div>
                      </td>
                      <div class="row" style="margin-left: 47px; margin-top: 10px;">
                        <h5>
                          <u style="margin-top: 20px;">หน่วยงานผู้ให้ข้อมูล</u>
                          <i class="fas fa-chevron-down" style="margin-left: 5px; font-size: large;"
                            id="department{{i}}" data-toggle="collapse" [attr.data-target]="'#departments' + i"
                            aria-expanded="false" aria-controls="departments"></i>
                        </h5>
                        <div class="row" style="margin-left: 10px;">
                          <button
                            *ngIf="subjectgroupstatus == 'ร่างกำหนดการ' && items.subquestionCentralPolicyProvinces.length > 0"
                            type="button"
                            (click)="openModal2(modalInviteDepartment, items.id,items.subquestionCentralPolicyProvinces[0].subjectCentralPolicyProvinceGroups)"
                            class="btn btn-primary btn-xs"
                            style="margin-top: -10px; margin-left: 10px;">เพิ่มหน่วยงาน</button>
                          <button
                            *ngIf="subjectgroupstatus == 'ร่างกำหนดการ' && items.subquestionCentralPolicyProvinces.length == 0"
                            type="button" (click)="openAlertModal(alertModal)" class="btn btn-primary btn-xs"
                            style="margin-top: -10px; margin-left: 10px;">เพิ่มหน่วยงาน</button>
                          <button *ngIf="subjectgroupstatus == 'ร่างกำหนดการ'" type="button"
                            (click)="openAddModalQuestionsclose(modalQuestionsclose,items.id)"
                            class="btn btn-success btn-xs"
                            style="margin-top: -10px; margin-left: 10px;">เพิ่มคำถาม</button>

                          <!-- <span style="margin-left: 20px;">ลิ้งค์บุคคลภายนอก :
                            <a href="">{{urllink}}{{items.id}}</a></span> -->

                        </div>
                        <!-- <button *ngIf="role_id == 5 && centralpolicyprovincedata.step == 'มอบหมายจังหวัด'" type="button"
                          (click)="openModal2(modalInviteDepartment, items.id)" class="btn btn-primary btn-xs"
                          style="margin-top: -10px; margin-left: 10px;">เชิญหน่วยงานเพิ่มเติม</button> -->
                        <!-- <i class="fas fa-user-plus pointer"
                            style="font-size:22px; color: blue; margin-left: 10px; margin-bottom: -5px;"
                            (click)="openModal(modalcreatesuject)"></i> -->
                        <!-- <div class="row" style="margin-top: 10px; margin-left: 3px;">
                          <div class="col-md-9">
                            ลิ้งค์บุคคลภายนอก : {{urllink}}{{items.id}}
                          </div>
                        </div> -->
                      </div>

                      <div *ngIf="items.subquestionCentralPolicyProvinces.length == 0" style="margin-top: 10px;"></div>

                      <div *ngIf="items.subquestionCentralPolicyProvinces.length != 0;" style="margin-left: 25px;">
                        <div class="col-12 row collapse" id="departments{{i}}"
                          *ngFor="let itemss of items.subquestionCentralPolicyProvinces[0].subjectCentralPolicyProvinceGroups;let ii = index">
                          <div class="col-6">
                            <div class="row col-12">
                              <div class="">
                                <span class="">{{ii + 1}}. {{itemss.provincialDepartment.name}}</span>
                              </div>
                              <div class="col-1">
                                <i *ngIf="subjectgroupstatus == 'ร่างกำหนดการ'"
                                  class="align-middle mr-2 fas fa-fw fa-trash-alt pointer col-1"
                                  (click)="DelModal(modaldeleteProvincial, itemss.id)"></i>
                              </div>
                            </div>
                          </div>
                          <!-- <div class="col-6">
                            <span style="text-align: right; align-self: flex-end;" *ngIf="ii == 0">ลิ้งค์บุคคลภายนอก :
                              <a href="">{{urllink}}{{items.id}}</a></span>
                          </div> -->
                        </div>
                      </div>
                      <!-- <td style="border-top: none;" width="85%">
                        <u>คำถามปลายเปิด</u>
                        <button class="btn btn-success" id="collapseAsk{{i}}" data-toggle="collapse"
                          [attr.data-target]="'#collapseExample' + i" aria-expanded="false"
                          aria-controls="collapseExample" style="margin-left: 20px; font-size: small;">คำตอบปลายเปิด
                          <i class="far fa-fw fa-plus-square" style="margin-left: 0px;"></i>
                        </button>

                        <div *ngFor="let item of items.subquestionCentralPolicyProvinces;let ii = index">
                          <div class="row" *ngIf="item.type == 'คำถามปลายเปิด'">
                            <div class="col-10">
                              <input type="text" value="{{item.name}}" class="form-control"
                                placeholder="กรุณากรอกเรื่อง" readonly>
                            </div>
                            <div class="col-1" *ngIf="role_id == 3">
                              <i class="align-middle mr-2 fas fa-fw fa-pen pointer"
                                (click)="editModal4(modaleditsubjectquestionopen, item.id, item.name)"></i>
                            </div>


                            <div *ngIf="item.type == 'คำถามปลายเปิด'" class="col-12">
                              <div *ngFor="let items2 of item.answerSubquestions; let index = index" class="row">
                                <div class="collapse col-9" id="collapseExample{{i}}"
                                  style="margin-left: 10px; margin-top: 5px;">
                                  <label type="text" class="form-control">{{items2.answer}}</label>
                                  <i class="align-middle mr-2 fas fa-fw fa-pen pointer"
                                    (click)="editModal5(modalEditAnswer, items2.id, items2.answer)"
                                    style="padding-top: 10px;"></i>
                                </div>
                              <div class="collapse col-1" id="collapseExample{{i}}" *ngIf="role_id == 3">
                                  <i class="align-middle mr-2 fas fa-fw fa-pen pointer"
                                    (click)="editModal5(modalEditAnswer, items2.id, items2.answer)"
                                    style="padding-top: 10px;"></i>
                                </div>
                              </div>
                            </div>

                          </div>
                        </div>
                      </td> -->
                    </div>
                  </tr>


                  <tr *ngFor="let item of items.subquestionCentralPolicyProvinces;let iii = index">
                    <div class="" *ngIf="item.type == 'คำถามปลายปิด'" style="margin-left: 34px;">
                      <td style="border-top: none; width: 1%;">
                        <u>คำถาม</u>
                        <i class="fas fa-chevron-down" style="margin-left: 5px; font-size: large;" id="question{{i}}"
                          data-toggle="collapse" [attr.data-target]="'#questions' + i" aria-expanded="false"
                          aria-controls="questions"></i>
                        <!-- <button  type="button" *ngIf="item.answerSubquestions.length != 0 && subjectgroupstatus == 'รายงานแล้ว' "
                          (click)="reportModal(modalreportreportperformance, item.subjectCentralPolicyProvinceGroups)"
                          style="margin-left: 20px; font-size: small;"
                          class="btn btn-primary">รายงานผลการดำเนินการของหน่วยรับตรวจ
                        </button> -->
                        <button *ngIf="subjectgroupstatus == 'รายงานแล้ว'" class="btn btn-danger" id="graph{{i}}"
                          data-toggle="collapse" type="button" [attr.data-target]="'#graphs' + i" aria-expanded="false"
                          aria-controls="graphs" style="margin-left: 20px; font-size: small;">แสดงกราฟ
                          <!-- <i class="far fa-fw fa-plus-square" style="margin-left: 0px;"></i> -->
                        </button>
                        <!-- <button (click)="showGraph(item,item.id)">
                          กราฟคำตอบปลายปิด
                        </button> -->
                        <!-- <div *ngFor="let item of items.subquestionCentralPolicyProvinces;let ii = index"> -->
                        <div class="row">
                          <div class="col-9" *ngIf="item.type == 'คำถามปลายปิด'">
                            <input style="margin-top: 10px;" type="text" value="{{item.name}}" class="form-control"
                              placeholder="กรุณากรอกเรื่อง" readonly>
                          </div>
                          <div class="col-0"
                            *ngIf="item.type == 'คำถามปลายปิด' && subjectgroupstatus == 'ร่างกำหนดการ'">
                            <i style="margin-top: 15px;" class="align-middle mr-2 fas fa-fw fa-pen pointer"
                              (click)="editModal(modaleditsubquestionclose, item.id, item.name)"></i>
                          </div>
                          <div class="col-0"
                            *ngIf="item.type == 'คำถามปลายปิด' && subjectgroupstatus == 'ร่างกำหนดการ'">
                            <i style="margin-top: 15px;" class="align-middle mr-2 fas fa-fw fa-trash-alt pointer"
                              (click)="delquestionModal(modaldelquestion, item.id)"></i>
                          </div>
                        </div>
                        <!-- </div> -->
                      </td>
                      <div class="col-12 collapse" id="questions{{i}}">
                        <td style="border-top: none; width: 1%;" *ngIf="item.type == 'คำถามปลายปิด'">
                          <!-- <u>ตัวเลือกคำถาม</u> -->
                          <div *ngFor="let item2 of items.subquestionCentralPolicyProvinces;let ii = index">
                            <div *ngFor="let item3 of item2.subquestionChoiceCentralPolicyProvinces;let iii = index">
                              <div class="row">
                                <div class="row col-10">
                                  <div class="col-0"
                                    *ngIf="item.type == 'คำถามปลายปิด' && item.id == item3.subquestionCentralPolicyProvinceId">
                                    <input style="margin-left: 10px;margin-top: 11px;" type="radio" disabled>
                                  </div>
                                  <!-- <div class="col-12"
                                  *ngIf="item2.type == 'คำถาม' && item.id == item3.subquestionCentralPolicyProvinceId">
                                  <div class="row" style="border: 1px solid #ced4da;
                                margin: 0px;
                                border-radius: 4px;
                                background-color: #e9ecef;
                                padding-top: 4px;
                                height: 32px;
                                margin-top: 5px;">
                                    <div class="col-8">{{item3.name}}</div>

                                  </div>


                                </div> -->
                                  <div class="col-9"
                                    *ngIf="item.type == 'คำถามปลายปิด' && item.id == item3.subquestionCentralPolicyProvinceId">
                                    <input type="text" value="{{item3.name}}" class="form-control"
                                      placeholder="กรุณากรอกเรื่อง" readonly>
                                  </div>

                                  <div class="col-1"
                                    *ngIf="item2.type == 'คำถามปลายปิด' && item.id == item3.subquestionCentralPolicyProvinceId">
                                    <i class="align-middle mr-2 fas fa-fw fa-pen pointer"
                                      (click)="editModal2(modaleditsubquestionclosechoice, item3.id, item3.name)"></i>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </td>
                      </div>
                      <div class="col-12" *ngIf="item.answerSubquestions.length != 0">
                        <td style="border-top: none; width: 1%;" *ngIf="item.type == 'คำถามปลายปิด'">
                          <!-- <u>ตัวเลือกคำถาม</u> -->
                          <!-- <div *ngFor="let item2 of items.subquestionCentralPolicyProvinces;let ii = index"> -->
                          <div *ngFor="let item3 of item.answerSubquestions;let iii = index">
                            <div *ngIf="item3.answerSubquestionStatus.status == 'ใช้งานจริง'" class="row">
                              <div class="col-2">{{iii+1}}. โดย {{item3.user.name}}</div>
                              <div class="col-5">ตอบ {{item3.answer}}</div>
                              <div class="col-5">คำอธิบาย {{item3.description}}</div>
                            </div>
                          </div>
                          <!-- </div> -->
                        </td>
                      </div>
                      <div class="col-12">
                        <div class="row">
                          <div class="collapse col-9" id="graphs{{i}}" style="margin-left: 10px; margin-top: 5px;">
                            <div class="chartjs-container">
                              <canvas baseChart [datasets]="barchartAllset.barChartData" [labels]="barchartAllset.label"
                                [options]="barChartOptions" [plugins]="barChartPlugins" [legend]="barChartLegend"
                                [chartType]="barChartType">
                              </canvas>
                            </div>
                          </div>
                          <!-- <div class="collapse col-1" id="test{{i}}">
                            <i class="align-middle mr-2 fas fa-fw fa-pen pointer" style="padding-top: 10px;"></i>
                          </div> -->
                        </div>
                      </div>
                    </div>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <!-- <div class="form-group col-12" *ngIf="role_id == 3">
            <div class="mb-3">
              <input type="radio" name="step" value="มอบหมายจังหวัด" checked
                [checked]="centralpolicyprovincedata.step == 'มอบหมายจังหวัด'" formControlName="step">
              <label style="margin-left: 10px;">มอบหมายให้จังหวัด</label>
              <input style="margin-left: 10px;" type="radio" name="step" value="มอบหมายหน่วยงาน"
                [checked]="centralpolicyprovincedata.step == 'มอบหมายหน่วยงาน'" formControlName="step">
              <label style="margin-left: 10px;">ไม่มอบหมายให้จังหวัด</label>
            </div>
          </div> -->
          <hr>



          <div class="form-group" *ngIf="subjectgroupland == 'ลงพื้นที่'" style="margin-top: 10px;">
            <div class="row" style="margin-top: 10px;" *ngIf="subjectgroup.peopleQuestionNotificationDate == null">
              <!-- null -->
              <div class="col-6">
                <label>วันที่แจ้งเตือน</label>
                <my-date-picker-th formControlName="notificationpeoplequestiondate" [options]="myDatePickerOptions"
                  required>
                </my-date-picker-th>
              </div>
              <div class="col-6">
                <label>วันกำหนดส่ง</label>
                <my-date-picker-th formControlName="deadlinepeoplequestiondate" [options]="myDatePickerOptions"
                  required>
                </my-date-picker-th>
              </div>
            </div>

            <div class="row" style="margin-top: 10px;" *ngIf="subjectgroup.peopleQuestionDeadlineDate != null">
              <!-- not null -->
              <div class="col-6">
                <label>วันที่แจ้งเตือน</label>
                <my-date-picker-th [selDate]="notificationpeoplequestionDate" [options]="myDatePickerOptions" required
                  (dateChanged)="onStartDateChanged2($event)">
                </my-date-picker-th>
              </div>
              <div class="col-6">
                <label>วันกำหนดส่ง</label>
                <my-date-picker-th [selDate]="deadlinepeoplequestionDate" [options]="myDatePickerOptions" required
                  (dateChanged)="onEndDateChanged2($event)">
                </my-date-picker-th>
              </div>
            </div>

            <br>
            <div class="col-md-12">
              <div class="row">
                <i class="fa fa-tags" style="margin-top: 15px;"></i>
                <h4 style="margin-top: 10px;margin-left: 15px;">คำถามภาคประชาชน</h4> &nbsp;&nbsp;
                <button *ngIf="subjectgroupstatus == 'ร่างกำหนดการ'" type="button" class="btn btn-success btn-xs"
                  (click)="openModalQuestionPeople(modalQuestionPeople)">เพิ่มคำถาม</button>
                <button *ngIf="subjectgroupstatus == 'ใช้งานจริง'" style="margin-right: 15px;" type="button"
                  class="btn btn-success btn-xs"
                  (click)="storeReportQuestionnaire()">รายงานแบบสอบถามความคิดเห็น</button>
                <button *ngIf="subjectgroupstatus == 'ใช้งานจริง' && answerpeople.length != 0" type="button"
                  class="btn btn-success btn-xs"
                  (click)="reportModalComment(modalreportcomment)">รายงานความคิดเห็น</button>
              </div>
              <br>
              <div *ngFor="let item3 of questionpeople; let i = index">
                <label style="margin-left: 5px;">ข้อที่ {{i+1}})
                  {{item3.questionPeople}}<br></label>
                <div *ngFor="let item4 of item3.answerCentralPolicyProvinces;">
                  <label style="margin-left: 10px;"> - {{item4.answer}} โดย : {{item4.user.name}} จังหัวด :
                    {{item4.user.province.name}}</label>
                </div>
              </div>
            </div>
            <hr>
          </div>

          <!-- {{subjectgroupland}} -->

          <div class="form-group col-12" *ngIf="subjectgroupstatus == 'ร่างกำหนดการ'">
            <div class="mb-3">
              <input type="radio" name="status" value="ร่างกำหนดการ" checked formControlName="status">
              <label style="margin-left: 10px;">ร่าง</label>
              <input style="margin-left: 10px;" type="radio" name="status" value="ใช้งานจริง" formControlName="status">
              <label style="margin-left: 10px;">ใช้งาน</label>
            </div>
          </div>
          <div class="form-group col-12" *ngIf="subjectgroupstatus == 'ใช้งานจริง'">
            <div class="mb-3">
              <input type="radio" name="status" value="ร่างกำหนดการ" formControlName="status" disabled>
              <label style="margin-left: 10px;">ร่าง</label>
              <input style="margin-left: 10px;" type="radio" name="status" value="ใช้งานจริง" formControlName="status"
                disabled>
              <label style="margin-left: 10px;">ใช้งาน</label>
            </div>
          </div>

          <div *ngIf="subjectgroupstatus == 'รายงานแล้ว'" class="row form-group" style="margin-left: 2px;">
            <div class="row">
              <i class="fa fa-tags" style="margin-top: 5px;"></i>
              <h4 style="margin-left: 15px;">ข้อเสนอแนะ</h4>
              <button type="button" style="margin-bottom: 10px; margin-left: 20px; font-size: small;"
                class="btn btn-primary" (click)="storeReportsuggestions()">รายงานแบบข้อเสนอแนะของผู้ตรวจราชการ
              </button>
              <button type="button" style="margin-bottom: 10px; margin-left: 20px; font-size: small;"
                class="btn btn-primary"
                (click)="reportModalSuggestionsresult(modalreportsuggestionsresult)">รายงานผลการดำเนินการตามข้อเสนอแนะ
              </button>
            </div>
            <textarea cols="30" rows="2" type="text" formControlName="suggestion" class="form-control"
              placeholder="กรุณากรอกข้อเสนอแนะ"></textarea>
            <div *ngFor="let item of subjectgroup.answerRecommenDationInspectors; let i = index">
              <br>
              <label style="margin-left: 10px;"> - {{item.answersuggestion}} โดย : {{item.user.name}} จังหัวด :
                {{item.user.province.name}}</label>
            </div>
          </div>

          <div class="row" *ngIf="resultdetailcentralpolicy.centralPolicyFiles.length > 0">
            <br>
            <div class="col-md-12">
              <u>ไฟล์แนบแผนการตรวจราชการ</u><br>
              <div class="row" *ngFor="let item2 of resultdetailcentralpolicy.centralPolicyFiles; let i = index"
                style="margin-top: 10px;">
                <a download href="{{downloadUrl}}/{{item2.name}}" class="col-6">
                  <span>ไฟล์ที่
                    {{i+1}})
                    {{ item2.name }}<br>
                  </span>
                </a>
              </div>
            </div>
          </div>

          <br>
          <div class="col-12">
            <label *ngIf="subjectgroupstatus == 'ร่างกำหนดการ'"
              class="form-label w-100">แนบไฟล์ประเด็นการตรวจติดตาม</label>
            <input *ngIf="subjectgroupstatus == 'ร่างกำหนดการ'" type="file" multiple (change)="uploadFile2($event)"
              style="margin-bottom: 10px;">
            <!-- <div class="col-4" *ngIf="subjectgroupstatus == 'ร่างกำหนดการ'">
              <select class="selectpicker form-control" data-live-search="true"
                (change)="checkType($event.target.value)" formControlName="fileType">
                <option value="เลือกประเภทเอกสารแนบ" selected>เลือกประเภทเอกสารแนบ</option>
                <option value="Subject Event Image File">รูปภาพ</option>
                <option value="Subject Event File">ไฟล์เอกสาร</option>
              </select>
            </div>
            <div class="col-8">
              <textarea *ngIf="fileType == 'Subject Event Image File'" cols="30" rows="5" class="form-control"
                placeholder="กรุณาใส่คำอธิบายรูปภาพ" style="margin-top: 10px;" formControlName="description"></textarea>
            </div> -->
          </div>
          <div class="form-group row" *ngFor="let itemTest of s.controls; let i = index">
            <form class="form-group row col-12" [formGroup]="itemTest">
              <div class="col-4">
                <label style="text-overflow: ellipsis;" formControlName="ebookFile">ไฟล์ที่ {{i + 1}})
                  {{itemTest.controls.ebookFile.value.name}}</label>
              </div>
              <div class="col-8">
                <input formControlName="fileDescription" class="form-control" type="text" placeholder="ใส่คำอธิบาย">
              </div>
            </form>
          </div>
          <div class="row" *ngIf="carlendarFile.length > 0">
            <div class="col-md-12" style="margin-top: 20px;">
              <u>ไฟล์แนบประเด็นการตรวจติดตาม</u><br>
              <div class="row" *ngFor="let item of carlendarFile; let i = index" style="margin-top: 10px;">
                <a download href="{{downloadUrl}}/{{item.name}}" class="col-6">
                  <span>ไฟล์ที่
                    {{i+1}})
                    {{ item.name }}<br>
                  </span>
                </a>
                <input type="text" class="form-control ml-4" style="width: 80%;" value="{{item.description}}" readonly>
              </div>
            </div>
          </div>


          <!-- <label *ngIf="signatureFile.length <= 0" class="form-label w-100"
            style="margin-top: 30px;">แนบไฟล์ลายมือชื่อ</label>
          <input *ngIf="signatureFile.length <= 0" type="file" multiple (change)="uploadFile2($event)"
            style="margin-bottom: 10px;">

          <div class="row">
            <div class="col-md-12" style="margin-top: 10px;">
              <u>ไฟล์แนบลายมือชื่อ</u><br>
              <div class="row" *ngFor="let item of signatureFile; let i = index" style="margin-top: 10px;">
                <a download href="{{downloadUrl}}/{{item.name}}" class="col-6">
                  <span>ไฟล์ที่
                    {{i+1}})
                    {{ item.name }}<br>
                  </span>
                </a>
              </div>
            </div>
          </div> -->

          <div class="form-group" *ngIf="submitted"
            [ngStyle]="submitted ? {color: '#dc3545'}:{color: ''} ">
            <div style="font-size: 22px;">*กรุณาเลือกวันแจ้งเตือนและวันกำหนดส่งให้ครบถ้วน</div>
          </div>

          <div class="form-group col col-lg-12" style="margin-top: 20px; text-align: center;">
            <button *ngIf="subjectgroupstatus != 'ใช้งานจริง'" style="align-self: center;" type="submit"
              class="btn btn-primary" style="margin-right: 45px;">บันทึก</button>
            <!-- <button *ngIf="role_id == 5" style="align-self: center;" type="button" class="btn btn-primary"
              (click)="back()" style="margin-right: 45px;">บันทึก</button> -->
            <button type="button" class="btn btn-danger" (click)="back()">ยกเลิก</button>
          </div>

          <!-- <div *ngIf="subjectgroupstatus == 'ใช้งานจริง'" class="form-group col col-lg-12"
            style="margin-top: 20px; text-align: center;">
            <button type="button" class="btn btn-danger" (click)="back()">ย้อนกลับ</button>
          </div> -->

        </form>
      </div>
    </div>
  </div>
</div>

<!-- BEGIN primary modal -->
<ng-template #modalQuestionPeople class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- <div class="modal-dialog modal-dialog-centered" role="document"> -->
  <form [formGroup]="FormQuestion" (ngSubmit)="storeQuestion(FormQuestion.value)">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">คำถามที่ปรึกษาผู้ตรวจราชการภาคประชาชน</h5>
        <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body m-3">

        <div class="col-12 col-xl-12">
          <div class="form-group">
            <label>ประเด็นคำถาม</label>
            <textarea cols="30" rows="5" formControlName="question" class="form-control"
              placeholder="กรุณากรอกคำถามภาคประชาชน">
          </textarea>
          </div>
        </div>

        <!-- <div class="form-group row">
          <div class="col-12 col-xl-12">
            <label>วันที่แจ้งเตือน</label>
          </div>
          <div class="col-12 col-xl-12">
            <div class="form-group">
              <my-date-picker-th formControlName="notificationdate" [options]="myDatePickerOptions" required>
              </my-date-picker-th>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-12 col-xl-12">
            <label>วันกำหนดส่ง</label>
          </div>
          <div class="col-12 col-xl-12">
            <div class="form-group">
              <my-date-picker-th formControlName="deadlinedate" [options]="myDatePickerOptions" required>
              </my-date-picker-th>
            </div>
          </div>
        </div> -->

      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">บันทึก</button>
        <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
      </div>
    </div>
  </form>
  <!-- </div> -->
</ng-template>
<!-- END primary modal -->

<!-- BEGIN primary modal -->
<ng-template #modaldelsubject class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-body text-center" style="background-color: white; border-radius: 5px;">
    <i class="fa fa-info-circle delete-icon"></i>
    <p style="font-size: xx-large; color: #565656; margin-top: 20px;">
      ลบข้อมูล
    </p>
    <p style="font-size: medium; color: #545454;">
      คุณต้องการลบข้อมูลนี้ใช่หรือไม่ ?
    </p>
    <button type="button" class="btn btn-primary btnMargin" (click)="deletesubject(delid)">
      ใช่
    </button>
    <button type="button" class="btn btn-danger btnMargin" (click)="modalRef.hide()">
      ไม่ใช่
    </button>
  </div>
</ng-template>
<!-- END primary modal -->
<!-- BEGIN primary modal -->
<ng-template #modaldelquestion class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-body text-center" style="background-color: white; border-radius: 5px;">
    <i class="fa fa-info-circle delete-icon"></i>
    <p style="font-size: xx-large; color: #565656; margin-top: 20px;">
      ลบข้อมูล
    </p>
    <p style="font-size: medium; color: #545454;">
      คุณต้องการลบข้อมูลนี้ใช่หรือไม่ ?
    </p>
    <button type="button" class="btn btn-primary btnMargin" (click)="deletequestion(delid)">
      ใช่
    </button>
    <button type="button" class="btn btn-danger btnMargin" (click)="modalRef.hide()">
      ไม่ใช่
    </button>
  </div>
</ng-template>
<!-- END primary modal -->
<!-- BEGIN primary modal -->
<ng-template #modaldeloption class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-body text-center" style="background-color: white; border-radius: 5px;">
    <i class="fa fa-info-circle delete-icon"></i>
    <p style="font-size: xx-large; color: #565656; margin-top: 20px;">
      ลบข้อมูล
    </p>
    <p style="font-size: medium; color: #545454;">
      คุณต้องการลบข้อมูลนี้ใช่หรือไม่ ?
    </p>
    <button type="button" class="btn btn-primary btnMargin" (click)="deleteoption(delid)">
      ใช่
    </button>
    <button type="button" class="btn btn-danger btnMargin" (click)="modalRef.hide()">
      ไม่ใช่
    </button>
  </div>
</ng-template>
<!-- END primary modal -->

<!-- BEGIN primary modal -->
<ng-template #modaleditsubquestionclose class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <form [formGroup]="EditForm" (ngSubmit)="editsubquestionclose(EditForm.value,editid)">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">จัดการคำถาม</h5>
        <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body m-3">
        <div class="form-group">
          <label for="test" class="form-label">คำถาม</label>
          <input type="text" value="{{subquestionclosename}}" formControlName="subquestionclose" class="form-control"
            placeholder="กรุณากรอกคำถาม">
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">บันทึก</button>
        <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
      </div>
    </div>
  </form>
</ng-template>

<ng-template #modaleditsubquestionclosechoice class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <form [formGroup]="EditForm2" (ngSubmit)="editsubquestionclosechoice(EditForm2.value,editid)">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">จัดการคำถาม</h5>
        <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body m-3">
        <div class="form-group">
          <label for="test" class="form-label">คำถาม</label>
          <input type="text" value="{{subquestionclosechoicename}}" formControlName="subquestionclosechoice"
            class="form-control" placeholder="กรุณากรอกคำถาม">
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">บันทึก</button>
        <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
      </div>
    </div>
  </form>
</ng-template>

<ng-template #modaleditsubject class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <form [formGroup]="EditForm3" (ngSubmit)="editsubject(EditForm3.value,editid)">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">จัดการเรื่องประเด็น</h5>
        <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body m-3">
        <div class="form-group">
          <label for="test" class="form-label">เรื่องประเด็น</label>
          <input type="text" value="{{subject}}" formControlName="subject" class="form-control"
            placeholder="กรุณากรอกเรื่องประเด็น">
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">บันทึก</button>
        <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
      </div>
    </div>
  </form>
</ng-template>

<ng-template #modaleditsubjectquestionopen class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <form [formGroup]="EditForm4" (ngSubmit)="editsubjectquestionopen(EditForm4.value,editid)">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">จัดการคำถามปลายเปิด</h5>
        <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body m-3">
        <div class="form-group">
          <label for="test" class="form-label">คำถามปลายเปิด</label>
          <input type="text" value="{{subjectquestionopen}}" formControlName="subjectquestionopen" class="form-control"
            placeholder="กรุณากรอกคำถามปลายเปิด">
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">บันทึก</button>
        <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
      </div>
    </div>
  </form>
</ng-template>

<!-- BEGIN primary modal -->
<ng-template #modaldeleteProvincial class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-body text-center" style="background-color: white; border-radius: 5px;">
    <i class="fa fa-info-circle delete-icon"></i>
    <p style="font-size: xx-large; color: #565656; margin-top: 20px;">
      ลบข้อมูล
    </p>
    <p style="font-size: medium; color: #545454;">
      คุณต้องการลบข้อมูลนี้ใช่หรือไม่ ?
    </p>
    <button type="button" class="btn btn-primary btnMargin" (click)="deleteProvinceial(delid)">
      ใช่
    </button>
    <button type="button" class="btn btn-danger btnMargin" (click)="modalRef.hide()">
      ไม่ใช่
    </button>
  </div>
</ng-template>
<!-- END primary modal -->

<!-- BEGIN primary modal -->
<ng-template #modaldeletepeopleanswer class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-body text-center" style="background-color: white; border-radius: 5px;">
    <i class="fa fa-info-circle delete-icon"></i>
    <p style="font-size: xx-large; color: #565656; margin-top: 20px;">
      ลบข้อมูล
    </p>
    <p style="font-size: medium; color: #545454;">
      คุณต้องการลบข้อมูลนี้ใช่หรือไม่ ?
    </p>
    <button type="button" class="btn btn-primary btnMargin" (click)="deletepeopleanswer(delid)">
      ใช่
    </button>
    <button type="button" class="btn btn-danger btnMargin" (click)="modalRef.hide()">
      ไม่ใช่
    </button>
  </div>
</ng-template>
<!-- END primary modal -->

<ng-template #modalEditAnswer class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <form [formGroup]="editAnswerForm" (ngSubmit)="editAnswer(editAnswerForm.value,editid)">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">จัดการคำตอบปลายเปิด</h5>
        <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body m-3">
        <div class="form-group">
          <label for="test" class="form-label">คำตอบปลายเปิด</label>
          <input type="text" value="{{answer}}" formControlName="answer" class="form-control"
            placeholder="กรุณากรอกคำถามปลายเปิด">
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">บันทึก</button>
        <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
      </div>
    </div>
  </form>
</ng-template>

<ng-template #answerPeopleModal class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">คำตอบภาคประชาชน</h5>
      <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body xl-12">
      <div class="col-12 col-xl-12">
        <div class="form-group">
          <div class="row" *ngFor="let items of answerData; let i = index" style="margin-bottom: 15px; width: 100%;">
            <!-- <div class="col-1">
              <i class="fa fa-user-circle" style="font-size: 45px;padding: 0px 10px;"></i>
            </div> -->
            <div class="col-12" style="padding: 10px 20px 20px 20px;
                  background-color: #f4f4f4;
                  border-radius: 15px;">
              <u>คำตอบ</u>
              <label style="margin-left: 5px;">#{{i+1}}</label>
              <br>
              <label style="word-break: break-all;">{{items.answer}}</label><br>
              <small style="color:gray; position: relative;
                  bottom: -9px;">ชื่อ : {{items.user.name}} ตำแหน่ง : {{items.user.position}} เบอร์ติดต่อ :
                {{items.user.phoneNumber}}</small><br>
            </div>
          </div>
          <hr>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
    </div>
  </div>
</ng-template>

<!-- BEGIN primary modal -->
<ng-template #modalInviteDepartment class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- <div class="modal-dialog modal-dialog-centered" role="document"> -->
  <form [formGroup]="Form2" (ngSubmit)="storeDepartment(Form2.value)">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">เชิญหน่วยงานเพิ่มเติม</h5>
        <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาหน่วยงาน" [multiple]="true"
          [items]="departmentSelect" name="DepartmentId" formControlName="DepartmentId">
        </ng-select>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">บันทึก</button>
        <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
      </div>
    </div>
  </form>
  <!-- </div> -->
</ng-template>
<!-- END primary modal -->

<!-- BEGIN primary modal -->
<ng-template #modalQuestionsclose class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <form [formGroup]="FormAddQuestionsclose" (ngSubmit)="AddQuestionsclose(FormAddQuestionsclose.value)">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">เพิ่มคำถาม</h5>
        <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body m-3">
        <div class="form-group">
          <label for="test" class="form-label">คำถาม</label>
          <input type="text" formControlName="name" class="form-control" placeholder="กรุณากรอกคำถาม">
          <div formArrayName="inputanswerclose">
            <div *ngFor="let X of FormAddQuestionsclose['controls'].inputanswerclose['controls']; let ix=index">
              <div formGroupName="{{ix}}">
                <div class="row">
                  <div class="col-11 col-xl-11">
                    <input type="text" formControlName="answerclose" class="form-control" placeholder="กรุณากรอกคำถาม">
                  </div>
                  <div class="col-1">
                    <div class="col-1 margin-plus-icon" *ngIf="ix == 0; else elseBlock">
                      <i class="align-middle mr-2 far fa-fw fa-plus-square" (click)="addXX()" value="Add X"></i>
                    </div>
                    <ng-template #elseBlock>
                      <div class="col-1 margin-plus-icon">
                        <i class="align-middle mr-2 far fa-fw fa-minus-square" (click)="removeXX(ix)" value="Add X"></i>
                      </div>
                    </ng-template>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">บันทึก</button>
        <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
      </div>
    </div>
  </form>
  <!-- </div> -->
</ng-template>

<!-- BEGIN primary modal -->
<ng-template #modalcreatesuject class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- <div class="modal-dialog modal-dialog-centered" role="document"> -->
  <form [formGroup]="FormSubject" (ngSubmit)="storeSubject(FormSubject.value)">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">เพิ่มประเด็นการตรวจติดตาม</h5>
        <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body m-3">

        <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาหน่วยงาน" [multiple]="true"
          [items]="departmentSelect" name="DepartmentId" formControlName="DepartmentId">
        </ng-select>

        <div class="form-group">
          <label for="test" class="form-label">คำถาม</label>
          <input type="text" formControlName="name" class="form-control" placeholder="กรุณากรอกคำถาม">
          <div formArrayName="inputanswerclose">
            <div *ngFor="let X of FormSubject['controls'].inputanswerclose['controls']; let ix=index">
              <div formGroupName="{{ix}}">
                <div class="row">
                  <div class="col-11 col-xl-11">
                    <input type="text" formControlName="answerclose" class="form-control" placeholder="กรุณากรอกคำถาม">
                  </div>
                  <div class="col-1">
                    <div class="col-1 margin-plus-icon" *ngIf="ix == 0; else elseBlock">
                      <i class="align-middle mr-2 far fa-fw fa-plus-square" (click)="addXXX()" value="Add X"></i>
                    </div>
                    <ng-template #elseBlock>
                      <div class="col-1 margin-plus-icon">
                        <i class="align-middle mr-2 far fa-fw fa-minus-square" (click)="removeXXX(ix)"
                          value="Add X"></i>
                      </div>
                    </ng-template>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">บันทึก</button>
        <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
      </div>
    </div>
  </form>
  <!-- </div> -->
</ng-template>
<!-- END primary modal -->

<ng-template #alertModal class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-body text-center" style="background-color: white; border-radius: 5px;">
    <i class="fa fa-info-circle delete-icon"></i>
    <p style="font-size: xx-large; color: #565656; margin-top: 20px;">
      ขออภัย
    </p>
    <p style="font-size: medium; color: #545454;">
      ไม่สามารถเพิ่มหน่วยงานได้
    </p>
    <p style="font-size: medium; color: #545454;">
      กรุณาเพิ่มคำถามก่อนเพิ่มหน่วยงาน
    </p>
    <button type="button" class="btn btn-primary btnMargin" (click)="modalRef.hide()">
      ตกลง
    </button>
  </div>
</ng-template>
<!-- END primary modal -->
<!-- BEGIN primary modal -->
<ng-template #modalreportreportperformance class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- <div class="modal-dialog modal-dialog-centered" role="document"> -->
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">รายงานผลการดำเนินการของหน่วยรับตรวจ</h5>
      <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body m-3">
      <div class="mb-3">
        <input type="radio" name="report" (change)="report1($event)" value="รายหน่วยงาน">
        <label style="margin-left: 10px;">รายหน่วยงาน</label>
        <input style="margin-left: 10px;" type="radio" name="report" (change)="report2($event)" value="รายจังหวัด">
        <label style="margin-left: 10px;">รายจังหวัด</label>
        <input style="margin-left: 10px;" type="radio" name="report" (change)="report3($event)" value="รายเขต">
        <label style="margin-left: 10px;">รายเขต</label>
      </div>
      <form [formGroup]="FormReport" *ngIf="checkTypeReport== 1" (ngSubmit)="storeReportPerformance(FormReport.value)">
        <div class="row">
          <div class="col-12 col-xl-12">
            <div class="form-group">
              <label>หน่วยงาน</label>
              <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาเลือกหน่วยงาน" [multiple]="false"
                [items]="select" formControlName="provincialDepartmentId">
                <!-- (ngModelChange)="addsubjectdepartment2($event,'add')"
              (deselected)="addsubjectdepartment2($event,'remove')" -->
              </ng-select>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">ออกรายงาน</button>
          <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
        </div>
      </form>
      <form *ngIf="checkTypeReport== 2" (ngSubmit)="storeReportPerformance2()">
        <div class="row">
          <div class="col-12 col-xl-12">
            <div class="form-group">
              <label>จังหวัด</label>
              <input type="text" value="{{provincename}}" class="form-control" placeholder="กรุณากรอกเรื่อง" readonly>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">ออกรายงาน</button>
          <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
        </div>
      </form>
      <form [formGroup]="" *ngIf="checkTypeReport== 3" (ngSubmit)="storeInspectionPlan(FormOther.value)">
        <div class="row">
          <div class="col-12 col-xl-12">
            <div class="form-group">
              <label>เรื่อง3</label>
              <input type="text" formControlName="title" class="form-control" placeholder="กรุณากรอกเรื่อง">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">บันทึก</button>
          <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
        </div>
      </form>
    </div>

  </div>
</ng-template>
<!-- END primary modal -->
<!-- BEGIN primary modal -->
<ng-template #modalreportsuggestionsresult class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- <div class="modal-dialog modal-dialog-centered" role="document"> -->
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">รายงานผลการดำเนินการตามข้อเสนอแนะของผู้ตรวจราชการ</h5>
      <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body m-3">
      <div class="mb-3">
        <input type="radio" name="report" (change)="reportsuggestionsresult1($event)" value="รายหน่วยงาน">
        <label style="margin-left: 10px;">รายหน่วยงาน</label>
        <input style="margin-left: 10px;" type="radio" name="report" (change)="reportsuggestionsresult2($event)"
          value="รายจังหวัด">
        <label style="margin-left: 10px;">รายจังหวัด</label>
      </div>
      <form [formGroup]="FormReportSuggestionsResult" *ngIf="checkTypeSuggestionsresult== 1"
        (ngSubmit)="storeReportSuggestionsResulttype1(FormReportSuggestionsResult.value)">
        <div class="row">
          <div class="col-12 col-xl-12">
            <div class="form-group">
              <label>รายหน่วยงาน</label>
              <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาเลือก" [multiple]="false"
                [items]="select" formControlName="provincialDepartmentId">
              </ng-select>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">ออกรายงาน</button>
          <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
        </div>
      </form>
      <form [formGroup]="FormReportSuggestionsResult" *ngIf="checkTypeSuggestionsresult== 2"
        (ngSubmit)="storeReportSuggestionsResulttype2(FormReportSuggestionsResult.value)">
        <div class="row">
          <div class="col-12 col-xl-12">
            <div class="form-group">
              <label>จังหวัด</label>
              <input type="text" value="{{provincename}}" class="form-control" placeholder="กรุณากรอกเรื่อง" readonly>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">ออกรายงาน</button>
          <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
        </div>
      </form>
    </div>
  </div>
</ng-template>
<!-- END primary modal -->
<!-- BEGIN primary modal -->
<ng-template #modalreportcomment class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- <div class="modal-dialog modal-dialog-centered" role="document"> -->
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">รยงานความคิดเห็นของที่ปรึกษาผู้ตรวจราชการภาคประชาชน</h5>
      <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body m-3">
      <div class="mb-3">
        <input type="radio" name="report" (change)="reportcomment1($event)" value="รายบุคคล">
        <label style="margin-left: 10px;">รายบุคคล</label>
        <input style="margin-left: 10px;" type="radio" name="report" (change)="reportcomment2($event)"
          value="รายจังหวัด">
        <label style="margin-left: 10px;">รายจังหวัด</label>
      </div>
      <form [formGroup]="FormReportComment" *ngIf="checkTypeReportPeople== 1"
        (ngSubmit)="storeReportComment(FormReportComment.value)">
        <div class="row">
          <div class="col-12 col-xl-12">
            <div class="form-group">
              <label>รายบุคคล</label>
              <ng-select bindLabel="label" bindValue="value" placeholder="กรุณาเลือก" [multiple]="false"
                [items]="select" formControlName="userid">
              </ng-select>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">ออกรายงาน</button>
          <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
        </div>
      </form>
      <form *ngIf="checkTypeReportPeople== 2" (ngSubmit)="storeReportComment2()">
        <div class="row">
          <div class="col-12 col-xl-12">
            <div class="form-group">
              <label>จังหวัด</label>
              <input type="text" value="{{provincename}}" class="form-control" placeholder="กรุณากรอกเรื่อง" readonly>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">ออกรายงาน</button>
          <button type="button" class="btn btn-danger" (click)="modalRef.hide()" data-dismiss="modal">ปิด</button>
        </div>
      </form>
    </div>
  </div>
</ng-template>
<!-- END primary modal -->
<!-- <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-spin-clockwise">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner> -->
